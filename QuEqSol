#include <stdio.h>
#include <locale.h>
#include <math.h>

//================================================================

void Sol_Quad_Equat(double a, double b, double c);
void Sol_Line_Equat(double k, double b);

//================================================================

int main ()
    {
    setlocale(LC_ALL, "Russian");

    double a = 0, b = 0, c = 0;

    printf("Программа, которая решает квадратные уравнения вида "
           "a*x^2 + b*x + c = 0.\n"
           "Автор: Колядич М. А. Тест №1\n"
           "Введите значения для a, b и c:");

    while (scanf("%lg %lg %lg", &a, &b, &c) !=3)
        {
        printf("\n"
               "Ошибка!!! Вы ввели не корректные значения. "
               "Пожалуйства введите числа ещё раз.\n"
               "Введите значения для a, b и c:");

        fflush(stdin);
        }

    printf ("Благодарю за ввод. Производится решение уравнения:\n"
            "%lg*x^2 + %lg*x + %lg = 0\n"
            "Операция решения уравнения началась.\n", a, b, c);

    Sol_Quad_Equat(a, b, c);

    return 0;
    }

//================================================================

void Sol_Quad_Equat(double a, double b, double c)
    {
    if (a == 0)
        {
        Sol_Line_Equat(b, c);
        }
    else if (a != 0)
            {
            if (b == 0)
                {
                if (c == 0)
                    {
                    printf("Это уравнение имеет единственный корень x = 0");
                    }
                else if (c !=0)
                        {
                        double d = 4*a*c;
                            if (d > 0)
                            {
                            printf("Это уравнение не имеет действительных корней.");
                            }
                            else if (d < 0)
                                 {
                                 double x1 = 0, x2 = 0;
                                 x1 = (sqrt(-d))/(2*a);
                                 x2 = -(sqrt(-d))/(2*a);
                                 printf("Это уравнение имеет два корня x1 = %lg, x2 = %lg", x1, x2);
                                 }
                        }
                }
            else if (b != 0)
                {
                 double d1 = b*b - 4*a*c;
                 if (d1 < 0)
                    {
                    printf("Это уравнение не имеет действительных корней.");
                    }
                 else if (d1 = 0)
                        {
                        double x3 = -b/(2*a);
                        printf("Это уравнение имеет единственный корень x = %lg", x3);
                        }
                      else if (d1 > 0)
                            {
                            double x4 = (-b + sqrt(b*b - 4*a*c)) / (2*a);
                            double x5 = (-b - sqrt(b*b - 4*a*c)) / (2*a);
                            printf("Это уравнение имеет два корня x1 = %lg, x2 = %lg", x4, x5);

                            }
                }
            }
    printf("\n"
           "Операция решения уравнения закончилась.");
    }

//================================================================

void Sol_Line_Equat(double k, double b)
    {
    if (b == 0)
        {
        if (k == 0)
            {
            printf("Это уравнение имеет бесконечное множество корней.");
            }
        else if (k != 0)
                {
                printf("Это уравнение имеет единственный корень x = 0");
                }
        }
    else if (b != 0)
            {
            if (k == 0)
                {
                printf("Это уравнение не имеет корней.");
                }
            else if (k != 0)
                    {
                    double x = -(b/k);
                    printf("Это уравнение имеет единственный корень x = %lg", x);
                    }
            }
    printf("\n"
           "Операция решения уравнения закончилась.");
    }
